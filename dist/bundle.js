!function(t){function e(e){for(var i,a,o=e[0],h=e[1],l=e[2],u=0,d=[];u<o.length;u++)a=o[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(i in h)Object.prototype.hasOwnProperty.call(h,i)&&(t[i]=h[i]);for(c&&c(e);d.length;)d.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],i=!0,o=1;o<s.length;o++){var h=s[o];0!==r[h]&&(i=!1)}i&&(n.splice(e--,1),t=a(a.s=s[0]))}return t}var i={},r={2:0},n=[];function a(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=i,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(s,i,function(e){return t[e]}.bind(null,i));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var o=window.webpackJsonp=window.webpackJsonp||[],h=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var c=h;n.push([84,1,0]),s()}([function(t,e,s){"use strict";s.d(e,"b",(function(){return Color})),s.d(e,"c",(function(){return Point})),s.d(e,"a",(function(){return AnimationObject}));class Color{constructor(t,e,s,i){if(this.color={r:0,g:0,b:0,a:255},t instanceof Color)return this.color.r=t.r,this.color.g=t.g,this.color.b=t.b,void(this.color.a=t.a);if(void 0===t)return;if(Number.isFinite(t)&&Number.isFinite(e)&&Number.isFinite(s))return this.r=t,this.g=e,this.b=s,void(Number.isFinite(i)?this.a=i:this.a=255);let r;try{if(r=t.match(/^#?([0-9a-f]{3}[0-9a-f]?);?$/i)[1])return this.r=17*parseInt(r.charAt(0),16),this.g=17*parseInt(r.charAt(1),16),this.b=17*parseInt(r.charAt(2),16),void(r.charAt(3)?this.a=17*parseInt(r.charAt(3),16):this.a=255)}catch{}try{if(r=t.match(/^#?([0-9a-f]{6}([0-9a-f]{2})?);?$/i)[1])return this.r=parseInt(r.substr(0,2),16),this.g=parseInt(r.substr(2,2),16),this.b=parseInt(r.substr(4,2),16),void(r.substr(6,2)?this.a=parseInt(r.substr(6,2),16):this.a=255)}catch{}try{if(r=t.match(/^\s*rgba?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*(\d+)\s*)?\);?$/i))return this.r=r[1],this.g=r[2],this.b=r[3],void(r[5]?this.a=r[5]:this.a=255)}catch{}try{if(r=t.match(/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*(\d+)\s*)?;?$/i))return this.r=r[1],this.g=r[2],this.b=r[3],void(r[5]?this.a=r[5]:this.a=255)}catch{}}get r(){return this.color.r}set r(t){this.color.r=this.normalize(t)}get g(){return this.color.g}set g(t){this.color.g=this.normalize(t)}get b(){return this.color.b}set b(t){this.color.b=this.normalize(t)}get a(){return this.color.a}set a(t){this.color.a=this.normalize(t)}red(t){let e=new Color(this);return e.r=t,e}green(t){let e=new Color(this);return e.g=t,e}blue(t){let e=new Color(this);return e.b=t,e}alpha(t){let e=new Color(this);return e.a=t,e}normalize(t){return+t>255?255:+t<0?0:Math.round(+t)}toString(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a/255+")"}toHex(){function t(t){const e=t.toString(16);return 1==e.length?"0"+e:e}return"#"+t(this.r)+t(this.g)+t(this.b)+t(this.a)}toArray(t=!0){return t?new Float32Array([this.r/255,this.g/255,this.b/255,this.a/255]):new Float32Array([this.r/255,this.g/255,this.b/255])}}class Point{constructor(t=0,e=0){this.position={x:t,y:e}}get x(){return this.position.x}set x(t){this.position.x=t}get y(){return this.position.y}set y(t){this.position.y=t}normal(){return new Point(-this.y,this.x)}invert(){return new Point(-this.x,-this.y)}normalize(){let t=this.length;return new Point(this.x/t,this.y/t)}expand(t){return new Point(this.x*t,this.y*t)}add(t){return new Point(this.x+t.x,this.y+t.y)}subtract(t){return new Point(this.x-t.x,this.y-t.y)}dot(t){return this.x*t.x+this.y*t.y}get length(){return Math.sqrt(this.x*this.x+this.y*this.y)}toString(){return this.x+","+this.y}}class AnimationObject{constructor(t,e=t,s=0){this.startTime=Date.now(),this.duration=s,this.startProperty=t,this.endProperty=e,this.modified=!1}set(t,e=this.duration){const s=this.get();t.toString()!=s.toString()&&t.toString()!=this.endProperty.toString()&&(this.startProperty=s,this.startTime=Date.now(),this.duration=e,this.endProperty=t,this.modified=!0)}get(){let t=Date.now()-this.startTime;if(t>=this.duration)return this.endProperty;if("number"==typeof this.startProperty)return this.interpolate(this.startProperty,this.endProperty,t/this.duration);if(Array.isArray(this.startProperty)){const e=t/this.duration;let s=[];for(let t=0;t<this.startProperty.length;t++)s.push(this.interpolate(this.startProperty[t],this.endProperty[t],e));return s}if(this.startProperty instanceof Color){const e=t/this.duration;return new Color(this.interpolate(this.startProperty.r,this.endProperty.r,e),this.interpolate(this.startProperty.g,this.endProperty.g,e),this.interpolate(this.startProperty.b,this.endProperty.b,e),this.interpolate(this.startProperty.a,this.endProperty.a,e))}if(this.startProperty instanceof Point){const e=t/this.duration;return new Point(this.interpolate(this.startProperty.x,this.endProperty.x,e),this.interpolate(this.startProperty.y,this.endProperty.y,e))}}interpolate(t,e,s){return t+s*(e-t)}get inProgress(){return!(Date.now()-this.startTime>this.duration)}}console.debug=function(){console.debugging&&console.log.apply(this,arguments)},document.addEventListener("touchstart",(function(){}),!0)},function(t,e,s){"use strict";s.d(e,"a",(function(){return DateUtils}));class DateUtils{static getDaysBetween(t,e){t=new Date(t),e=new Date(e),t=this.normalizeDateUp(t),e=this.normalizeDateUp(e);const s=Math.abs(+t-+e);return Math.round(s/864e5)}static normalizeDateUp(t){return(t=new Date(+t)).setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}static normalizeDateDown(t){return(t=new Date(+t)).setHours(23),t.setMinutes(59),t.setSeconds(59),t.setMilliseconds(499),t}static getGlobalDay(t){return this.getDaysBetween(new Date(0),+t)}static getDateFromGlobalDay(t){return this.normalizeDateUp(new Date(864e5*t))}static combineDate(t,e){const s=new Date(+t);return s.setHours(e.getHours()),s.setMinutes(e.getMinutes()),s.setSeconds(e.getSeconds()),s.setMilliseconds(e.getMilliseconds()),s}static getReadableDuration(t){const e=Math.floor(t/60/60),s=Math.floor((t-3600*e)/60);return(e>0?e+" h, ":"")+(s>0?s+" min, ":"")+Math.floor(t-3600*e-60*s)+" sec"}}},function(t,e,s){"use strict";s.d(e,"c",(function(){return GL})),s.d(e,"a",(function(){return Shader})),s.d(e,"b",(function(){return ShadersProgram}));class GL{constructor(t,e=null){this.canvas=t,this.gl=t.getContext("webgl",{alpha:!1,premultipliedAlpha:!1})||t.getContext("experimental-webgl",{alpha:!1,premultipliedAlpha:!1})||t.getContext("moz-webgl",{alpha:!1,premultipliedAlpha:!1})||t.getContext("webkit-3d",{alpha:!1,premultipliedAlpha:!1}),this.currentProgram=0,this.programsBuffer=[],null!=e&&this.newProgram(e),this.attributes=new Proxy([],{set:(t,e,s)=>{const i=this.programsBuffer[this.currentProgram];let r=i.attributeBuffer[i.currentStack].find(t=>t.name==e),n=i.attributes[e];if(null!=n)return null!=r?r.update(s):i.attributeBuffer[i.currentStack].push(new Attrubute(this.gl,i.program,n,e,s)),!0;console.warn(new Error("Attribute "+e+" does not exist in shader program!"))},get:(t,e)=>{const s=this.programsBuffer[this.currentProgram];let i=s.attributeBuffer[s.currentStack].find(t=>t.name==e);if(null!=i)return i.value}}),this.uniforms=new Proxy([],{set:(t,e,s)=>{const i=this.programsBuffer[this.currentProgram];let r=i.uniformBuffer.find(t=>t.name==e),n=i.uniforms[e];if(null!=n)return null!=r?r.update(s):i.uniformBuffer.push(new Uniform(this.gl,i.program,n,e,s)),!0;console.warn(new Error("Uniform "+e+" does not exist in shader program!"))},get:(t,e)=>{let s=this.programsBuffer[this.currentProgram].uniformBuffer.find(t=>t.name==e);if(null!=s)return s.value}}),this.gl.clearColor(0,0,0,0),this.gl.enable(this.gl.BLEND),this.gl.disable(this.gl.DEPTH_TEST),this.gl.disable(this.gl.CULL_FACE),this.gl.blendFuncSeparate(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA),this.resize()}set stack(t){const e=this.programsBuffer[this.currentProgram];t>=0&&t<e.attributeBuffer.length&&(e.currentStack=t);for(const t of e.attributeBuffer[e.currentStack])t.bind();e.indexBuffer[e.currentStack]&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,e.indexBuffer[e.currentStack])}get stack(){return this.programsBuffer[this.currentProgram].currentStack}set program(t){t>=0&&t<this.programsBuffer.length&&(this.currentProgram=t),this.programsBuffer[this.currentProgram].use()}get program(){return this.currentProgram}set background(t){t&&(this.clearColor=t.toArray(),this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]))}set indices(t){this.programsBuffer[this.currentProgram].indices=t}newProgram(t){return t.attach(this.gl),this.programsBuffer.push(t),this.currentProgram=this.programsBuffer.length-1,this.currentProgram}newStack(){const t=this.programsBuffer[this.currentProgram];return 0==t.attributeBuffer[t.currentStack].length?t.currentStack:(t.attributeBuffer.push([]),t.currentStack=t.attributeBuffer.length-1,t.currentStack)}resize(t=this.canvas.clientWidth,e=this.canvas.clientHeight){this.viewport={width:t*window.devicePixelRatio,height:e*window.devicePixelRatio},this.canvas.width=this.viewport.width,this.canvas.height=this.viewport.height,this.gl.viewport(0,0,this.viewport.width,this.viewport.height)}clear(){this.gl.clear(this.gl.COLOR_BUFFER_BIT)}drawStrip(t,e=0){this.gl.drawArrays(this.gl.LINE_STRIP,e,t-e)}drawTriangles(t,e=0){this.gl.drawArrays(this.gl.TRIANGLES,e,t-e)}drawPoints(t,e=0){this.gl.drawArrays(this.gl.POINTS,e,t-e)}drawShape(t,e=0){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,e,t-e)}drawCircle(t,e=0){this.gl.drawArrays(this.gl.TRIANGLE_FAN,e,t-e)}drawElements(t,e=0){this.gl.drawElements(this.gl.TRIANGLES,t-e,this.gl.UNSIGNED_SHORT,2*e)}}class Attrubute{constructor(t,e,s,i,r){switch(this.gl=t,this.type=s,this.buffer=t.createBuffer(),this.name=i,this.value=r,this.program=e,s){case t.FLOAT:this.pointerSize=1,this.pointerType=t.FLOAT;break;case t.FLOAT_VEC2:this.pointerSize=2,this.pointerType=t.FLOAT;break;case t.FLOAT_VEC3:this.pointerSize=3,this.pointerType=t.FLOAT;break;case t.FLOAT_VEC4:this.pointerSize=4,this.pointerType=t.FLOAT;break;case t.FLOAT_MAT2:this.pointerSize=2,this.pointerType=t.FLOAT;break;case t.FLOAT_MAT3:this.pointerSize=3,this.pointerType=t.FLOAT;break;case t.FLOAT_MAT4:this.pointerSize=4,this.pointerType=t.FLOAT;break;default:throw new Error("Unknown attribute type "+s+"!")}this.bind(),t.bufferData(t.ARRAY_BUFFER,new Float32Array(r),t.STATIC_DRAW)}update(t){this.value=t,this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(t),this.gl.STATIC_DRAW)}bind(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer);let t=this.gl.getAttribLocation(this.program,this.name);this.gl.vertexAttribPointer(t,this.pointerSize,this.pointerType,!1,0,0),this.gl.enableVertexAttribArray(t)}}class Uniform{constructor(t,e,s,i,r){switch(this.gl=t,this.name=i,this.value=r,this.location=t.getUniformLocation(e,i),s){case t.FLOAT:this.function=this.gl.uniform1fv;break;case t.FLOAT_VEC2:this.function=t.uniform2fv;break;case t.FLOAT_VEC3:this.function=t.uniform3fv;break;case t.FLOAT_VEC4:this.function=t.uniform4fv;break;case t.FLOAT_MAT2:this.function=(e,s)=>{t.uniformMatrix2fv(e,!1,s)};break;case t.FLOAT_MAT3:this.function=(e,s)=>{t.uniformMatrix3fv(e,!1,s)};break;case t.FLOAT_MAT4:this.function=(e,s)=>{t.uniformMatrix4fv(e,!1,s)};break;case t.INT:this.function=t.uniform1iv;break;case t.INT_VEC2:this.function=t.uniform2iv;break;case t.INT_VEC3:this.function=t.uniform3iv;break;case t.INT_VEC4:this.function=t.uniform4iv;break;case t.SAMPLER_2D:case t.SAMPLER_CUBE:case t.BOOL:this.function=t.uniform1iv;break;case t.BOOL_VEC2:this.function=t.uniform2iv;break;case t.BOOL_VEC3:this.function=t.uniform3iv;break;case t.BOOL_VEC4:this.function=t.uniform4iv;break;default:throw new Error("Unknown uniform type "+s+"!")}this.update(r)}update(t){this.value=t,Array.isArray(t)||t instanceof Float32Array||(t=[t]),this.function.call(this.gl,this.location,t)}}class Shader{constructor(t,e){this.code=t,this.type=e,this.shader=null,this.gl=null,this.program=null,this._changed=!1}set variables(t){let e=0;for(;;){const i=/^\s*\/\*\/\s*repeat\s+([0-9a-zA-Z]+)\s*\/\*\/\r?\n([^\n]*)/m,r=this.code.substr(e).match(i);if(!r)break;const n=r[0].length,a=+s(r[1],!1),o=r[2];if(!Number.isInteger(a))throw new Error("Compilation failed! Iterator must be an integer!");let h=[];for(let e=0;e<a;e++)t.i=e,h.push(s(o,!0));delete t.i,this.code=this.code.slice(0,r.index+e+1)+h.join("\n")+this.code.slice(r.index+e+n),e=r.index+1}function s(e,s){for(const i in t){let r=i;s&&(r="\\/\\*\\/\\s*"+r+"\\s*\\/\\*\\/"),e=e.replace(new RegExp(r,"g"),t[i])}return e}this.code=s(this.code,!0)}attach(t,e){this.gl=t,this.program=e,this.compile(),t.attachShader(e,this.shader)}update(){if(this.gl,null==program)throw new Error("Shader is not attached!");this.compile(),this.gl.linkProgram(this.program)}compile(){if(null==this.shader||this._changed){if(null==this.gl)throw new Error("Shader is not attached!");this.shader=this.gl.createShader(this.type),this.gl.shaderSource(this.shader,this.code),this.gl.compileShader(this.shader)}}static get types(){return Object.freeze({VERTEX:WebGLRenderingContext.VERTEX_SHADER,FRAGMENT:WebGLRenderingContext.FRAGMENT_SHADER})}}class ShadersProgram{constructor(t,e){this.attributes=[],this.uniforms=[],this.vertex=t,this.fragment=e,this.gl=null,this.program=null,this.uniformBuffer=[],this.attributeBuffer=[[]],this.indexBuffer=[],this.currentStack=0}set indices(t){this.indexBuffer.length<=this.currentStack&&(this.indexBuffer[this.currentStack]=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer[this.currentStack])),t instanceof Uint16Array||(t=new Uint16Array(t)),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,t,this.gl.STATIC_DRAW)}attach(t){if(this.gl==t)return;this.gl=t,this.program=t.createProgram(),this.vertex.attach(t,this.program),this.fragment.attach(t,this.program),t.linkProgram(this.program),this.attributes=[];let e=t.getProgramParameter(this.program,t.ACTIVE_ATTRIBUTES);for(let s=0;s<e;s++){let e=t.getActiveAttrib(this.program,s);this.attributes[e.name]=e.type}this.uniforms=[];let s=t.getProgramParameter(this.program,t.ACTIVE_UNIFORMS);for(let e=0;e<s;e++){let s=t.getActiveUniform(this.program,e);this.uniforms[s.name.replace(/[[][0-9]+]$/g,"")]=s.type}}use(){if(null==this.gl)throw new Error("Program is not attached!");this.gl.useProgram(this.program)}}},,function(t,e,s){"use strict";s.d(e,"b",(function(){return Utils})),s.d(e,"a",(function(){return i}));class Utils{static log(t,e=i.INFO){const s=`[${(new Date).toTimeString().split(" ")[0]}]: `;switch(e){case i.INFO:console.log(s+"%ci "+t,"font-weight:bold;");break;case i.OK:console.log(s+"%c✔ "+t,"color:green;font-weight:bold;");break;case i.ERROR:console.error(s+"%c✘ "+t,"color:red;font-weight:bold;");break;case i.WARNING:console.log(s+"%c! "+t,"color:goldenrod;font-weight:bold;");break;case i.DIVIDER:{const e="=".repeat(30-t.length/2);console.log(e+t+e+(t.length%2?"=":""));break}default:throw new TypeError("Unknown log type!")}}}var i;!function(t){t[t.INFO=0]="INFO",t[t.OK=1]="OK",t[t.WARNING=2]="WARNING",t[t.ERROR=3]="ERROR",t[t.DIVIDER=4]="DIVIDER"}(i||(i={}))},,function(t,e,s){"use strict";s.d(e,"a",(function(){return Hash}));var i=s(7);class Hash extends(Object(i.a)()){static initialize(t){const e={};for(const s in t){const i=this.get(s);if(i){e[s]=i;continue}const r=t[s];this.set(s,r.toString()),e[s]=r.toString()}this.call("loaded",e)}static get(t){this.validateString(t);const e=window.location.hash.slice(1).split(",");for(const s of e){if(s.split(":")[0].toLocaleLowerCase()==t.toLocaleLowerCase())return s.split(":")[1]}return null}static freeze(t=!0){this.frozen=t}static set(t,e){if(this.frozen)return;e=e.toString();const s=window.location.hash;this.validateString(t),this.validateString(e),this.exists(t)||(s.trim().endsWith(",")||""==s||"#"==s||(window.location.hash+=","),window.location.hash+=t+":"+e);const i=new RegExp(t+":([^,]*|$)");window.location.hash=window.location.hash.replace(i,t+":"+e)}static exists(t){return-1!=window.location.hash.toLowerCase().indexOf(t.toLowerCase()+":")}static validateString(t){if(-1!=t.toString().indexOf(",")||-1!=t.toString().indexOf(":"))throw new Error("Illegal characters in property!")}}Hash.frozen=!1},function(t,e,s){"use strict";function i(){class Service{static addEventListener(t,e){t in this.callbacks||(this.callbacks[t]=[]),this.callbacks[t].push(e)}static call(t,...e){this.callbacks[t]&&this.callbacks[t].map(t=>t.call(t,...e))}static expose(t,e=null){if(window[this.name]||(window[this.name]={}),e)window[this.name][t]=e;else{if("function"!=typeof this[t])throw new Error("The function to expose not found!");window[this.name][t]=(...e)=>{this[t].call(this,...e)}}}}return Service.callbacks={},Service}s.d(e,"a",(function(){return i}))},function(t,e,s){"use strict";s.d(e,"a",(function(){return o})),s.d(e,"b",(function(){return ChartElement}));var i=s(0),r=s(28),n=s(29),a=s(46);const o=200;class ChartElement{constructor(t,e){this.elements={},this.styles={},this.shaders=e,this.elements.container=t,this._initializeComponent(),this._windowWidth=window.innerWidth,this.styles.text="#000",this.styles.background="#FFF",this.styles.font="inherit",this.styles.margin="8px",this.styles.dates="24px",this.styles.preview="48px",this.styles.lowlight="0.1",this.styles.border="1px",this.styles.select="48px",this._initializeStyle()}set chart(t){t instanceof r.a?this.chartData=t:this.chartData=new r.a(t),this.drawer=new n.a(this.chartData,this.elements.chart,this.shaders,this.elements.layout),this.previewer=new n.a(this.chartData,this.elements.preview,this.shaders),this.controller=new a.a(this.elements.select,this.elements.draggerLeft,this.elements.draggerRight,this.elements.layout);const e=["January","February","March","April","May","June","July","August","September","October","November","December"];this.controller.onupdate=(t,s)=>{this.elements.coverLeft.style.width=100*t+"%",this.elements.coverRight.style.width=100*(1-s)+"%",this.drawer.start=t,this.drawer.end=s;const i=this.drawer.chart.size.x,r=this.drawer.chart.xAxis[0],n=new Date(Math.round(t*i+r)),a=new Date(Math.round(s*i+r)),o=document.createTextNode(n.getDate()+" "+e[n.getMonth()]+" "+n.getFullYear()+" - "+a.getDate()+" "+e[a.getMonth()]+" "+a.getFullYear()),h=this.elements.range.firstChild;h&&this.elements.range.removeChild(h),this.elements.range.appendChild(o)},this.controller.onselect=(t,e,s)=>{s?(this.elements.tooltip.style.opacity=1,this.drawer.select=e):(this.elements.tooltip.style.opacity=0,this.drawer.select=null),this.elements.tooltip.style.left=e<.5?t+2*parseInt(this.styles.margin)+"px":t-this.elements.tooltip.clientWidth-2*parseInt(this.styles.margin)+"px"},this.drawer.onrecalculated=()=>{if(null==this.drawer.selection.value)return;const t=this.drawer.selection.index;let e=new Date(this.drawer.chart.xAxis[t]).toString().split(" ");e=e[0]+", "+e[2]+" "+e[1]+" "+e[3],this.elements.date.innerHTML=e;let s=this.elements.values.children;for(let e=0;e<s.length;e++)if(this.chartData.stacked&&e==s.length-1){let i=this.drawer.graphDrawers.reduce((e,s)=>s.visible?e+s.graph.points[t].y:e,0);s[e].style.display=this.drawer.graphDrawers.filter(t=>t.visible).length<=1?"none":"list-item",s[e].children[s[e].children.length-1].innerHTML=i}else{if(this.chartData.percentage){let i=this.drawer.graphDrawers.reduce((e,s)=>s.visible?e+s.graph.points[t].y:e,0);s[e].children[0].innerHTML=Math.round(this.drawer.chart.graphs[e].points[t].y/i*100)+"%"}s[e].style.display=this.drawer.graphDrawers[e].visible?"list-item":"none",s[e].children[s[e].children.length-1].innerHTML=this.drawer.chart.graphs[e].points[t].y.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}},this.controller.update(),this.elements.title.innerHTML="";for(const t in this.chartData.graphs){let e=document.createElement("div"),s=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div");s.className="chart-tooltip-values-percentage",e.className="chart-tooltip-values-value",i.className="chart-tooltip-values-value-value",r.className="chart-tooltip-values-value-name",r.style.color=this.chartData.graphs[+t].color.toString(),i.innerHTML=this.chartData.graphs[+t].name,e.style.fontSize="0.85em",e.float="left",s.style.float="left",s.style.width="2.4em",i.style.float="left",i.style.fontWeight="normal",r.style.float="right",this.chartData.percentage&&e.appendChild(s),e.appendChild(i),e.appendChild(r),this.elements.values.appendChild(e)}if(this.chartData.stacked){let t=document.createElement("div"),e=document.createElement("div"),s=document.createElement("div"),i=document.createElement("div");e.className="chart-tooltip-values-percentage",t.className="chart-tooltip-values-value",s.className="chart-tooltip-values-value-value",i.className="chart-tooltip-values-value-name",i.style.color="inherit",s.innerHTML="Total",t.style.fontSize="0.85em",t.float="left",e.style.float="left",e.style.width="2.4em",s.style.float="left",s.style.fontWeight="bold",i.style.float="right",this.chartData.percentage&&t.appendChild(e),t.appendChild(s),t.appendChild(i),this.elements.values.appendChild(t)}if(this.elements.buttons=[],this.chartData.graphs.length<=1)this.title=this.chartData.graphs[0].name;else for(const t in this.chartData.graphs){let e=document.createElement("label"),i=document.createElement("input"),r=document.createElement("div"),n=document.createElement("div"),a=document.createElement("span");a.innerHTML=this.chartData.graphs[+t].name,e.style.backgroundColor=this.chartData.graphs[+t].color,e.style.borderColor=this.chartData.graphs[+t].color,a.style.color=this.chartData.graphs[+t].color,e.className="chart-graph-button",a.className="chart-graph-button-name",n.className="chart-graph-button-cover",r.className="chart-graph-button-icon",i.type="checkbox",i.checked=!0,i.style.position="fixed",i.style.opacity="0",e.appendChild(i),e.appendChild(r),e.appendChild(a),e.appendChild(n),this.elements.graphs.appendChild(e),e.onclick=e=>{let s=this.drawer.graphDrawers.reduce((t,e)=>t+(e.visible?1:0),0);if(this.drawer.graphDrawers[+t].visible&&1==s)return!1;this.drawer.toggle(+t,i.checked),this.previewer.toggle(+t,i.checked)},e.onmousedown=()=>{this.elements.buttons[+t].timeout=setTimeout(()=>{s(this,+t)},1e3)},e.ontouchstart=()=>{this.elements.buttons[+t].timeout=setTimeout(()=>{s(this,+t)},1e3)},e.onmouseup=()=>{clearTimeout(this.elements.buttons[+t].timeout)},e.ontouchend=()=>{clearTimeout(this.elements.buttons[+t].timeout)},this.elements.buttons.push(e)}function s(t,e){t.elements.buttons[e].firstChild.checked=!0,t.drawer.toggle(e,!0),t.previewer.toggle(e,!0);for(const s in t.elements.buttons)s!=e&&(t.elements.buttons[s].firstChild.checked=!1,t.elements.buttons[s].firstChild.checked=!1,t.drawer.toggle(s,!1),t.previewer.toggle(s,!1))}}set style(t){t.background&&(this.styles.background=new i.b(t.background).toString()||this.styles.background),t.text&&(this.styles.text=new i.b(t.text).toString()||this.styles.text),this.styles.font=t.font||this.styles.font,this.styles.margin=t.margin||this.styles.margin,this.styles.dates=t.dates||this.styles.dates,this.styles.preview=t.preview||this.styles.preview,this.styles.lowlight=t.lowlight||this.styles.lowlight,this.styles.border=t.border||this.styles.border,this.styles.select=t.select||this.styles.select,this._initializeStyle(),this.drawer&&this.drawer.update(new i.b(this.styles.background),new i.b(this.styles.text),t.font,5),this.previewer&&this.previewer.update(new i.b(this.styles.background),new i.b(this.styles.text),t.font,2)}set title(t){this.elements.title.innerHTML=t}get title(){return this.elements.title.innerHTML}_initializeComponent(){this.elements.header=document.createElement("div"),this.elements.title=document.createElement("span"),this.elements.range=document.createElement("span"),this.elements.header.className="chart-header",this.elements.title.className="chart-title",this.elements.range.className="chart-range",this.elements.header.appendChild(this.elements.title),this.elements.header.appendChild(this.elements.range),this.elements.tooltip=document.createElement("div"),this.elements.date=document.createElement("span"),this.elements.values=document.createElement("div"),this.elements.tooltip.className="chart-tooltip",this.elements.date.className="chart-tooltip-date",this.elements.values.className="chart-tooltip-values",this.elements.tooltip.appendChild(this.elements.date),this.elements.tooltip.appendChild(this.elements.values),this.elements.render=document.createElement("div"),this.elements.chart=document.createElement("canvas"),this.elements.layout=document.createElement("canvas"),this.elements.render.className="chart-render",this.elements.chart.className="chart-render-chart",this.elements.layout.className="chart-render-layout",this.elements.render.appendChild(this.elements.chart),this.elements.render.appendChild(this.elements.layout),this.elements.control=document.createElement("div"),this.elements.preview=document.createElement("canvas"),this.elements.select=document.createElement("div"),this.elements.draggerLeft=document.createElement("div"),this.elements.draggerRight=document.createElement("div"),this.elements.coverLeft=document.createElement("div"),this.elements.coverRight=document.createElement("div"),this.elements.control.className="chart-control",this.elements.preview.className="chart-preview",this.elements.select.className="chart-select",this.elements.draggerLeft.className="chart-dragger chart-dragger-left",this.elements.draggerRight.className="chart-dragger chart-dragger-right",this.elements.coverLeft.className="chart-cover chart-cover-left",this.elements.coverRight.className="chart-cover chart-cover-right",this.elements.control.appendChild(this.elements.preview),this.elements.control.appendChild(this.elements.coverLeft),this.elements.control.appendChild(this.elements.select),this.elements.select.appendChild(this.elements.draggerLeft),this.elements.select.appendChild(this.elements.draggerRight),this.elements.control.appendChild(this.elements.coverRight),this.elements.graphs=document.createElement("div"),this.elements.graphs.className="chart-graphs",this.elements.container.className+=" chart-container",this.elements.container.appendChild(this.elements.header),this.elements.container.appendChild(this.elements.tooltip),this.elements.container.appendChild(this.elements.render),this.elements.container.appendChild(this.elements.control),this.elements.container.appendChild(this.elements.graphs)}_initializeStyle(){this.elements.container.style.font=this.styles.font,this.elements.header.style.position="relative",this.elements.title.style.fontWeight="bold",this.elements.title.style.color=this.styles.text,this.elements.title.style.marginLeft=parseInt(this.styles.margin)/2+"px",this.elements.title.style.marginBottom=parseInt(this.styles.margin)+"px",this.elements.range.style.float="right",this.elements.range.style.marginBottom=parseInt(this.styles.margin)+"px",this.elements.range.style.fontSize="0.9em",this.elements.range.style.color=this.styles.text,this.elements.range.style.zIndex="100",this.elements.tooltip.style.position="absolute",this.elements.tooltip.style.minWidth="192px",this.elements.tooltip.style.padding=parseInt(this.styles.margin)+"px",this.elements.tooltip.style.fontSize="14.3px",this.elements.tooltip.style.borderRadius=parseInt(this.styles.margin)/2+"px",this.elements.tooltip.style.boxShadow="0px 0px 4px rgba(0, 0, 0, 0.4)",this.elements.tooltip.style.backgroundColor=this.styles.background,this.elements.tooltip.style.color=this.styles.text,this.elements.tooltip.style.overflow="hidden",this.elements.tooltip.style.touchAction="none",this.elements.tooltip.style.pointerEvents="none",this.elements.tooltip.style.userAelect="none",this.elements.tooltip.style.zIndex="100",this.elements.tooltip.style.transition="0.1s",this.elements.tooltip.style.transitionProperty="opacity",this.elements.tooltip.style.opacity="0",this.elements.tooltip.style.fontWeight="bold",this.elements.render.style.position="relative",this.elements.render.style.width="100%",this.elements.render.style.height="50vh",this.elements.render.style.marginBottom=parseInt(this.styles.margin)+"px",this.elements.chart.style.position="absolute",this.elements.chart.style.height="calc(100% - "+parseInt(this.styles.dates)+"px)",this.elements.chart.style.width="100%",this.elements.layout.style.position="absolute",this.elements.layout.style.height="100%",this.elements.layout.style.width="100%",this.elements.control.style.position="relative",this.elements.control.style.width="100%",this.elements.control.style.height=parseInt(this.styles.preview)+"px",this.elements.control.style.touchAction="none",this.elements.control.style.userSelect="none",this.elements.control.style.marginBottom=parseInt(this.styles.margin)+"px",this.elements.preview.style.position="absolute",this.elements.preview.style.width="100%",this.elements.preview.style.height="100%",this.elements.coverLeft.style.position="absolute",this.elements.coverLeft.style.left="0",this.elements.coverLeft.style.height="100%",this.elements.coverLeft.style.backgroundColor=this.styles.background,this.elements.coverLeft.style.opacity="0.6",this.elements.coverLeft.style.userSelect="none",this.elements.coverLeft.style.filter="brightness("+(1-this.styles.lowlight)+")",this.elements.coverRight.style.position="absolute",this.elements.coverRight.style.right="0",this.elements.coverRight.style.height="100%",this.elements.coverRight.style.backgroundColor=this.styles.background,this.elements.coverRight.style.opacity="0.6",this.elements.coverRight.style.filter="brightness("+(1-this.styles.lowlight)+")",this.elements.select.style.position="absolute",this.elements.select.style.height="calc(100% - "+parseInt(this.styles.border)+"px * 2)",this.elements.select.style.minWidth=parseInt(this.styles.select)+"px",this.elements.select.style.maxWidth="calc(100% - "-parseInt(this.styles.select)+"px * 8)",this.elements.select.style.opacity="0.2",this.elements.select.style.border=parseInt(this.styles.border)+"px solid "+this.styles.text,this.elements.select.style.borderLeftWidth=4*parseInt(this.styles.border)+"px",this.elements.select.style.borderRightWidth=4*parseInt(this.styles.border)+"px",this.elements.select.style.cursor="grab",this.elements.select.style.zIndex="100",this.elements.draggerLeft.style.position="absolute",this.elements.draggerLeft.style.left="-18px",this.elements.draggerLeft.style.height="100%",this.elements.draggerLeft.style.width="24px",this.elements.draggerLeft.style.cursor="ew-resize",this.elements.draggerLeft.style.zIndex="100",this.elements.draggerRight.style.position="absolute",this.elements.draggerRight.style.right="-18px",this.elements.draggerRight.style.height="100%",this.elements.draggerRight.style.width="24px",this.elements.draggerRight.style.cursor="ew-resize",this.elements.draggerRight.style.zIndex="100"}update(){window.innerWidth!=this._windowWidth&&(this.elements.select.style.left="0px",this.elements.select.style.width="0px"),this.drawer.update(),this.previewer.update(),this.controller.update(),this._windowWidth=window.innerWidth}render(){this.drawer.draw(),this.previewer.draw()}}},,function(t,e,s){"use strict";s.d(e,"a",(function(){return View}));class View{constructor(t,e=null){this.name=t,this.windowLoaded="complete"===document.readyState,this.template=e,this.windowLoaded||window.addEventListener("load",()=>{this.windowLoaded=!0,this.template&&this.render(this.template)})}render(t=null,e={}){this.windowLoaded?(t||(t=this.template),e||(e={}),t&&(this.container.innerHTML=t(e),this.template=null)):this.template=t}toggle(t=null){null==t&&(t="none"==this.container.style.display),this.container.style.display=t?"block":"none"}get container(){const t=document.querySelector(`[view=${this.name.toLowerCase()}]`);if(!t)throw new Error(`Container ${this.name} not found!`);return t}}},,,,,,,,,function(t,e,s){"use strict";s.d(e,"a",(function(){return GraphDrawer}));var i=s(0),r=s(8),n=s(2);class GraphDrawer{constructor(t,e,s,n){if(new.target===GraphDrawer)throw new TypeError("Cannot construct an abstract class.");this.shaders=n,this.chartDrawer=t,this.graph=e,this.path=null,this.gl=s,this.stack=null,this.visible=!0,this.cuts={},this.animations={color:new i.a(this.graph.color.alpha(0),this.graph.color,4*r.a)},this.program=this._initializeProgram(),this._initializeAttributes(),console.debug("GraphDrawer created",this)}set color(t){this.animations.color.set(t,r.a/2)}get color(){return this.animations.color.get()}get animating(){return Object.values(this.animations).some(t=>t.inProgress)}_initializeProgram(){const t=new n.a(this.shaders[0],n.a.types.VERTEX),e=new n.a(this.shaders[1],n.a.types.FRAGMENT);return this.gl.newProgram(new n.b(t,e))}_initializeAttributes(){throw new Error("The method is not implemented!")}toggle(){this.color=new i.b(this.color.r,this.color.g,this.color.b,255*+!this.visible),this.visible=!this.visible}draw(t){this.gl.program=this.program,this.gl.stack=this.stack,this.gl.uniforms.projection=t,this.gl.uniforms.color=this.color.toArray();const e=(t[0]-t[6]-1)/(2*t[0]),s=(t[0]-t[6]+1)/(2*t[0]);this.cuts.start=Math.round(e*this.graph.length),this.cuts.end=Math.round(s*this.graph.length);for(let t=0;t<2;t++)this.cuts.end<this.graph.length&&this.cuts.end++,this.cuts.start>0&&this.cuts.start--}}},function(t,e,s){"use strict";s.d(e,"a",(function(){return Path}));class Path{constructor(t){this.points=t,this.indices=new Uint16Array(6*t.length),this.vertices=[]}get length(){return 6*(this.points.length-1)}}},,,,function(t,e,s){"use strict";s.d(e,"a",(function(){return Tabs}));var i=s(7);class Tabs extends(Object(i.a)()){static initialize(t){this.tabs=t,this.expose("change")}static change(t){const e=this.tabs.find(e=>e.name.toLowerCase()==t.toLowerCase());if(!e)throw new Error(`Tab ${t} does not exist!`);this.tabs.forEach(t=>t.toggle(!1)),e.toggle(!0),this.call("tabchanged",e.name)}}},,,,function(t,e,s){"use strict";s.d(e,"a",(function(){return Chart}));var i=s(0),r=s(38);class Chart{constructor(t){if(this.graphs=[],"string"==typeof t)try{t=JSON.parse(t)}catch{throw new Error("Source is not a valid JSON object!")}if(Array.isArray(t))throw new Error('Array is not allowed! Use "Chart.array" instead.');if("object"!=typeof t||"object"!=typeof t.colors||"object"!=typeof t.columns||"object"!=typeof t.names||"object"!=typeof t.types)throw new Error("Wrong source format!");this.stacked=!!t.stacked,this.percentage=!!t.percentage,this.scaled=!!t.y_scaled;const e="string"==typeof t.columns[0][0];this.xAxis=t.columns[0],e&&this.xAxis.shift(),this.size=new i.c(-Number.MAX_SAFE_INTEGER,-Number.MAX_SAFE_INTEGER),this.offsets=new i.c(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);for(let s=1;s<t.columns.length;s++){let n=t.columns[s];e&&n.shift();const a=Object.keys(t.names)[s-1],o=new i.b(t.colors[a]),h=t.names[a],l=t.types[a],c=new r.a(this.xAxis,n,o,h,l,this.percentage);c.size.x>this.size.x&&(this.size.x=c.size.x),c.size.y>this.size.y&&(this.size.y=c.size.y),c.minX<this.offsets.x&&(this.offsets.x=c.minX),c.minY<this.offsets.y&&(this.offsets.y=c.minY),this.graphs.push(c)}this.percentage&&(this.size.y=100,this.offsets.y=0),this.graphs=this.graphs.sort((function(t,e){return e.maxY-t.maxY})),this.type=this.graphs[0].type,"bar"==this.type&&(this.stacked=!0),this.scaled?this.graphs.forEach(t=>t.calculateVertices(t.size,new i.c(t.minX,t.minY))):this.graphs.forEach(t=>t.calculateVertices(this.size,this.offsets)),console.debug("Chart created",this)}static array(t){if("string"==typeof t)try{t=JSON.parse(t)}catch{throw new Error("Source is not a valid JSON object!")}if(!Array.isArray(t))throw new Error('Source is not an array! Use "new Chart" if it is a chart source.');let e=[];for(const s of t)e.push(new Chart(s));return console.debug("Charts array parsed",e),e}}},function(t,e,s){"use strict";s.d(e,"a",(function(){return ChartDrawer}));var i=s(0),r=s(8),n=s(2),a=s(39),o=s(30),h=s(42),l=s(44);class ChartDrawer{constructor(t,e,s,r=null){this.chart=t,this.canvas=r,this.gl=new n.c(e),this.area={start:0,end:1,top:1},this.selection={index:-1,points:[],input:null,value:null},this.redraw=!0,this.layout=!!r,this.onrecalculated=()=>{},this.animations={projection:new i.a([1,0,0,0,1,0,0,0,1])},this.graphDrawers=[],this.layoutDrawer=this.layout?new a.a(this,this.canvas,this.gl,s.layout):null,this.update();for(const e of t.graphs)"line"==e.type?this.graphDrawers.push(new o.a(this,e,this.gl,s.line)):"bar"==e.type?this.graphDrawers.push(new h.a(this,e,this.gl,s.bar)):"area"==e.type&&this.graphDrawers.push(new l.a(this,e,this.gl,s.area));console.debug("ChartDrawer created",this)}set start(t){t>1&&(t=1),t<0&&(t=0),this.area.start=t,this.redraw=!0}set end(t){t>1&&(t=1),t<0&&(t=0),this.area.end=t,this.redraw=!0}set select(t){const e=null==t?null:2*(this.area.start+t/(1/(this.area.end-this.area.start)))-1;this.selection.input=e,this.redraw=!0}_calculate(){const t="bar"!=this.chart.type?0:(this.graphDrawers[0].path.points[1].x-this.graphDrawers[0].path.points[0].x)/2;let e=Math.round(this.area.start*this.chart.xAxis.length);if(!Number.isInteger(e))return;let s=Number.MAX_SAFE_INTEGER,i=2*this.area.start-1;for(;;){const t=i-this.graphDrawers[0].graph.vertices[e].x;if(t>0)e++;else{if(!(t<0))break;e--}if(!(Math.abs(s)>Math.abs(t)))break;s=t}let n=-1,a=Number.MAX_SAFE_INTEGER,o=-Number.MAX_SAFE_INTEGER;for(i=2*this.area.end-1;!(e>=this.graphDrawers[0].graph.vertices.length);){const s=this.graphDrawers[0].graph.vertices[e];if(s.x>i)break;if(this.layout&&null!=this.selection.input){let i=Math.abs(this.selection.input-s.x-t);i<a&&(a=i,n=e)}if(this.chart.percentage)o=1;else{let t=0;for(const s of this.graphDrawers){if(!s.visible)continue;const i=s.graph.vertices[e];t+=i.y+1,i.y>o&&(o=i.y)}this.chart.stacked&&t-1>o&&(o=t-1)}e++}this.area.top=o;const h=1/(this.area.end-this.area.start),l=2/(this.area.top+1),c=l-1,u=[h,0,0,0,l,0,(1-this.area.start-this.area.end)*h,c,1];if(this.selection.index=n,this.selection.value=-1==n?null:this.graphDrawers[0].graph.vertices[n],this.selection.points=[],-1!=n)for(const t of this.graphDrawers)this.selection.points.push(t.graph.vertices[n].y*l+c);this.animations.projection.set(u,this.animations.projection.modified?r.a/2:0),this.onrecalculated()}toggle(t,e){const s=this.graphDrawers[t];e!=s.visible&&s.toggle(),this.redraw=!0}update(t,e,s,i){if(this.gl.resize(),t&&(this.gl.background=t),i)for(const t of this.graphDrawers)t instanceof o.a&&(t.thickness=i);this.layout&&(this.canvas.width=this.canvas.clientWidth*window.devicePixelRatio,this.canvas.height=this.canvas.clientHeight*window.devicePixelRatio,e&&(this.layoutDrawer.color=e,this.layoutDrawer.selectionDrawer.color=e),s&&(this.layoutDrawer.font=s)),this.redraw=!0}draw(){if(this.redraw){this._calculate(),this.gl.clear();const t=this.animations.projection.get();for(const e of this.graphDrawers)e.draw(t);this.layout&&this.layoutDrawer.draw(t,this.selection),this.graphDrawers.some(t=>t.animating)||this.layout&&this.layoutDrawer.animating||Object.values(this.animations).some(t=>t.inProgress)||(this.redraw=!1)}}}},function(t,e,s){"use strict";s.d(e,"a",(function(){return LineGraphDrawer}));var i=s(19),r=s(41);class LineGraphDrawer extends i.a{constructor(t,e,s,i){super(t,e,s,i),this.thickness=1}_initializeAttributes(){this.path=new r.a(this.graph.vertices),this.stack=this.gl.newStack(),this.gl.indices=this.path.indices,this.gl.attributes.position=this.path.vertices,this.gl.attributes.next=this.path.nexts,this.gl.attributes.previous=this.path.previouses,this.gl.attributes.direction=this.path.directions}draw(t){super.draw(t),this.gl.uniforms.aspect=this.gl.viewport.width/this.gl.viewport.height,this.gl.uniforms.thickness=this.thickness/this.gl.canvas.height*Math.sqrt(window.devicePixelRatio);const e=6*(this.cuts.end-1),s=6*this.cuts.start;this.gl.drawElements(e,s)}}},,function(t,e,s){"use strict";s.d(e,"a",(function(){return Manager}));var i=s(4);class Manager{constructor(t,e=[]){this.logging=!0,this.components=t,this.views=e}async initialize(t=[],e=[]){let s=0;this.logging&&i.b.log("Initializtion started..."),this.logging&&i.b.log("Views",i.a.DIVIDER);for(const t in this.views){const r=this.views[t];try{const s=Array.isArray(e)?e[t]:e[r.name];s?await r.render(null,s):await r.render(),this.logging&&i.b.log(`${r.name} rendered!`,i.a.OK)}catch(t){this.logging&&i.b.log(`${r.name} render exception:\n\t`+`${t.stack.replace(/\n/g,"\n\t")}`,i.a.ERROR),s++}}this.logging&&i.b.log("Components",i.a.DIVIDER);for(const e in this.components){const r=this.components[e];try{const s=Array.isArray(t)?t[e]:t[r.name];s&&r.initialize?await r.initialize(...s):r.initialize&&await r.initialize(),this.logging&&i.b.log(`${r.name} initialized!`,i.a.OK)}catch(t){this.logging&&i.b.log(`${r.name} initialization exception:\n\t`+`${t.stack.replace(/\n/g,"\n\t")}`,i.a.ERROR),s++}}this.logging&&(i.b.log("",i.a.DIVIDER),s?i.b.log(`Initialization completed with ${s} exceptions!`,i.a.WARNING):i.b.log("Successfyly initialized!",i.a.OK))}getComponent(t){return this.components.find(e=>e.name.toLowerCase()==t.toLowerCase())||null}getView(t){return this.views.find(e=>e.name.toLowerCase()==t.toLowerCase())||null}}},,,,,function(t,e,s){"use strict";s.d(e,"a",(function(){return Chart}));s(71);var i=s(8),r=s(1),n=s(47),a=s(48),o=s(49),h=s(50);class Chart{constructor(t){this.enabled=!1,this.data=null,this.backgroundlyResized=!1,this.container=t;const e=getComputedStyle(document.body),s={bar:[n.a,a.a],layout:[o.a,h.a]};this.chart=new i.b(this.container,s),this.chart.style={background:"255, 255, 255",text:e.getPropertyValue("--color-text"),font:e.fontFamily,lowlight:.05},this.registerEvents()}async switch(t){Object.keys(t.days).length<1?this.container.innerHTML="":(this.data=await this.convertData(t),this.refresh())}async refresh(){if(!this.data)return;try{this.chart.drawer&&this.chart.drawer.gl.gl.getExtension("WEBGL_lose_context").loseContext(),this.chart.previewer&&this.chart.previewer.gl.gl.getExtension("WEBGL_lose_context").loseContext()}catch(t){}if(this.container.innerHTML="",this.container.className="",this.chart._initializeComponent(),this.chart._initializeStyle(),this.chart.chart=this.data,!this.chart.drawer)return this.container.innerHTML="",void(this.container.className="");const t=this.chart.drawer.onrecalculated;this.chart.drawer.onrecalculated=()=>{if(t(),!this.chart)return;const e=this.chart.elements.values.children;for(const t of e){const e=t.children[t.children.length-1];e.innerHTML=r.a.getReadableDuration(+e.innerHTML.replace(/\s*/g,""))}},this.chart.drawer.layoutDrawer&&(this.chart.drawer.layoutDrawer._formatValue=t=>{const e=Math.floor(t/60/60);return e+"h "+Math.round((t-60*e*60)/60)+"m"},this.update())}update(){this.chart.drawer&&(this.chart.style={},this.chart.update(),this.chart.controller&&(this.chart.controller.onupdate(0,.999999),this.chart.controller.selector.style.width="calc(100% - 8px)"))}async convertData(t){const e=getComputedStyle(document.getElementsByClassName("page")[0]),s={columns:[["x"],["y0"],["y1"],["y2"],["y3"],["y4"],["y5"],["y6"],["y7"]],types:{y0:"bar",y1:"bar",y2:"bar",y3:"bar",y4:"bar",y5:"bar",y6:"bar",y7:"bar",x:"x"},names:{y0:"Unknown",y1:"Mobile",y2:"iPhone",y3:"iPad",y4:"Android",y5:"WPhone",y6:"Windows",y7:"Web"},colors:{y0:e.getPropertyValue("--color-unknown"),y1:e.getPropertyValue("--color-mobile"),y2:e.getPropertyValue("--color-iphone"),y3:e.getPropertyValue("--color-ipad"),y4:e.getPropertyValue("--color-android"),y5:e.getPropertyValue("--color-wphone"),y6:e.getPropertyValue("--color-windows"),y7:e.getPropertyValue("--color-web")},stacked:!0},i=[0,0,0,0,0,0,0,0],r=Object.values(t.days);for(let t=0;t<=r.length+2;t++){const e=r[t];s.columns[0][t+1]=e?+e.date:+r[r.length-1].date+864e5;for(let r=1;r<9;r++){const n=e?e.sessions.reduce((t,e)=>t+(e.platform==r-1?e.length:0),0):0;s.columns[r][t+1]=n,i[r-1]+=n}}let n=0;for(let t=0;t<i.length;t++)0==i[t]&&(s.columns.splice(t+1-n,1),delete s.types["y"+t],delete s.names["y"+t],delete s.colors["y"+t],n++);return s}render(){this.enabled&&this.chart&&this.chart.chartData&&(this.backgroundlyResized&&(this.update(),this.backgroundlyResized=!1),this.chart.render()),requestAnimationFrame(()=>{this.render()})}registerEvents(){let t=window.innerWidth,e=window.innerHeight;window.addEventListener("resize",()=>{if(!this.chart||!this.chart.chartData||window.innerWidth==t&&window.innerHeight==e)return;t=window.innerWidth,e=window.innerHeight,this.container.getClientRects()[0]?this.update():this.enabled||(this.backgroundlyResized=!0)}),requestAnimationFrame(()=>{this.render()})}}},function(t,e,s){"use strict";s.d(e,"a",(function(){return Graph}));var i=s(0);class Graph{constructor(t,e,s,r,n){this.color=s,this.name=r,this.type=n,this.maxX=-Number.MAX_SAFE_INTEGER,this.minX=Number.MAX_SAFE_INTEGER,this.maxY=-Number.MAX_SAFE_INTEGER,this.minY=Number.MAX_SAFE_INTEGER,this.points=[],this.vertices=[];for(let s=0;s<t.length;s++){const r=t[s],n=e[s];r>this.maxX&&(this.maxX=r),r<this.minX&&(this.minX=r),n>this.maxY&&(this.maxY=n),n<this.minY&&(this.minY=n),this.points.push(new i.c(r,n)),this.vertices.push(new i.c(r,n))}"bar"==n&&(this.minY=0),this.size=new i.c(this.maxX-this.minX,this.maxY-this.minY),console.debug("Graph created",this)}get length(){return this.points.length}calculateVertices(t,e){this.vertices.forEach(s=>{s.x=(s.x-e.x)/t.x*2-1,s.y=(s.y-e.y)/t.y*2-1})}}},function(t,e,s){"use strict";s.d(e,"a",(function(){return LayoutDrawer}));var i=s(0),r=s(8),n=s(2),a=s(40);class LayoutDrawer{constructor(t,e,s,r){this.shaders=r,this.chartDrawer=t,this.canvas=e,this.context=e.getContext("2d"),this.gl=s,this.program=this._initializeProgram(),this.opacity=192,this.lineCount=6,this.dateCount=7,this.color=new i.b,this.font="Helvetica",this.animations={lineFade:new i.a(64),lineOffset:new i.a(0),dateFade:[],dateOffset:new i.a(0)},this.selectionDrawer=new a.a(t,this.gl),this._initializeAttributes(),console.debug("LayoutDrawer created",this)}get animating(){return Object.values(this.animations).some(t=>t.inProgress)||this.animations.dateFade.some(t=>t.inProgress)||this.selectionDrawer.animating}_initializeProgram(){const t=new n.a(this.shaders[0],n.a.types.VERTEX),e=new n.a(this.shaders[1],n.a.types.FRAGMENT);return this.gl.newProgram(new n.b(t,e))}_initializeAttributes(){this.stack=this.gl.newStack();let t=[];for(let e=0;e<this.lineCount+1;e++)t.push(-1.1*Math.pow(-1,e),2/this.lineCount*e-1),t.push(1.1*Math.pow(-1,e),2/this.lineCount*e-1);this.gl.attributes.position=t}_drawLines(t,e,s,i,n){let a=[1,0,0,0,1,0,0,0,1],o=this.color.alpha(this.opacity);this.gl.program=this.program,this.gl.stack=this.stack,this.gl.uniforms.projection=a,this.gl.uniforms.color=this.color.alpha(this.opacity).toArray(),this.gl.drawStrip(2),a[7]=t%(2/this.lineCount),a[7]>t%(1/this.lineCount)?this.animations.lineFade.set(0,2*r.a):this.animations.lineFade.set(this.opacity/3,2*r.a),a[7]-=this.animations.lineFade.get()/this.opacity/3/this.lineCount,this.gl.uniforms.projection=a,this.gl.uniforms.color=this.color.alpha(this.animations.lineFade.get()).toArray(),this.gl.drawStrip(2*(this.lineCount+1),1),this._drawValues(a[7],o.alpha(this.animations.lineFade.get()),e,s,i,n),a[7]-=1/this.lineCount,this.gl.uniforms.projection=a,this.gl.uniforms.color=this.color.alpha(this.opacity/3-this.animations.lineFade.get()).toArray(),this.gl.drawStrip(2*(this.lineCount+1),1),this._drawValues(a[7],this.color.alpha(this.opacity/3-this.animations.lineFade.get()),e,s,i,n)}_drawValues(t,e,s,r,n,a){const o=this.gl.canvas.height/this.lineCount,h=3*window.devicePixelRatio;let l=new i.b(e);l.a*=2,t=t*this.gl.canvas.height/2+h,this.context.fillStyle=l.toString(),this.context.font=o/4+"px "+this.font;for(let e=0;e<this.lineCount;e++){const h=e*o-t;if(h>this.gl.canvas.height)continue;if(h-o/4<0)continue;let c=(this.gl.canvas.height-h)/this.gl.canvas.height*s+r;if(c=this._formatValue(c,this.chartDrawer.chart.percentage),n){let t=new i.b(this.chartDrawer.graphDrawers[0].color);t.a*=l.a/(this.opacity/3*2),this.context.fillStyle=t.toString()}if(this.context.textAlign="left",this.context.fillText(c,0,h),n){c=(this.gl.canvas.height-h)/this.gl.canvas.height*n+a,c=this._formatValue(c,this.chartDrawer.chart.percentage);let t=new i.b(this.chartDrawer.graphDrawers[1].color);t.a*=l.a/(this.opacity/3*2),this.context.fillStyle=t.toString(),this.context.textAlign="right",this.context.fillText(c,this.gl.canvas.width,h)}}let c=this._formatValue(r,this.chartDrawer.chart.percentage);if(n){let t=new i.b(this.chartDrawer.graphDrawers[0].color);t.a*=l.a/(this.opacity/3*2),this.context.fillStyle=t.toString()}if(this.context.textAlign="left",this.context.fillText(c,0,this.gl.canvas.height-h),n){c=this._formatValue(a,this.chartDrawer.chart.percentage);let t=new i.b(this.chartDrawer.graphDrawers[1].color);t.a*=l.a/(this.opacity/3*2),this.context.fillStyle=t.toString(),this.context.textAlign="right",this.context.fillText(c,this.gl.canvas.width,this.gl.canvas.height-h)}}_formatValue(t,e=!1){const s=e?"%":"",i=Math.abs(t);return i>1e9?parseFloat((t/1e9).toFixed(2))+"B":i>1e6?parseFloat((t/1e6).toFixed(2))+"M":i>1e3?parseFloat((t/1e3).toFixed(1))+"K":Math.round(t)+s}_drawDates(t,e,s){const n=this.canvas.width/(this.dateCount-1),a=(this.canvas.height-this.gl.canvas.height)/2,o=e.size.x/this.canvas.width,h=this.canvas.height-a/1.5;this.context.font=a+"px "+this.font,this.animations.dateOffset.set(-s.start*this.canvas.width,r.a/2),this.context.fillStyle=this.color.toString();for(let s=1;s<t||this.animations.dateFade[s]&&this.animations.dateFade[s].get();s*=2){null==this.animations.dateFade[s]&&(this.animations.dateFade[s]=new i.a(this.opacity)),t>s&&!this.animations.dateFade[s].inProgress&&1!=s?this.animations.dateFade[s].set(this.opacity,r.a):this.animations.dateFade[s].inProgress||1==s||this.animations.dateFade[s].set(0,r.a),this.context.fillStyle=this.color.alpha(this.animations.dateFade[s].get()).toString();for(let i=1==s?0:1;i<this.dateCount*s;i+=1==s?1:2){let r=n*t*i/s,l=Math.round(e.offsets.x+r*o/t);(r+=this.animations.dateOffset.get()*t)>this.canvas.width||(r+4*a<0||(l=new Date(l).toString().split(" ")[1]+" "+new Date(l).toString().split(" ")[2],this.context.fillText(l,r,h)))}}}draw(t,e){const s=t[7],i=t[4],r=t[0];if(this.chartDrawer.chart.scaled){o=this.chartDrawer.chart.graphs[0].size.y/i;var n=this.chartDrawer.chart.graphs[1].size.y/i,a=(h=this.chartDrawer.chart.graphs[0].minY,this.chartDrawer.chart.graphs[1].minY)}else{var o=this.chartDrawer.chart.size.y/i,h=this.chartDrawer.chart.offsets.y;this.chartDrawer.chart.stacked&&(h=0)}this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this._drawLines(s,o,h,n,a),this.selectionDrawer.draw(t,e),this._drawDates(r,this.chartDrawer.chart,this.chartDrawer.area)}}},function(t,e,s){"use strict";s.d(e,"a",(function(){return SelectionDrawer}));var i=s(0),r=s(8);class SelectionDrawer{constructor(t,e){this.chartDrawer=t,this.gl=e,this.color=new i.b,this.animations={projection:new i.a([1,0,0,0,1,0,0,0,1]),points:new i.a(Array.apply(null,Array(t.chart.graphs.length)).map(t=>0))},this._initializeAttributes()}get animating(){return Object.values(this.animations).some(t=>t.inProgress)}_initializeAttributes(){this.stackLine=this.gl.newStack(),this.gl.attributes.position=[0,-1,0,1],this.stackCircles=this.gl.newStack(),this.gl.attributes.position=[0,0]}_drawSelection(t){this.gl.stack=this.stackLine,this.gl.uniforms.projection=t,this.gl.uniforms.color=this.color.alpha(128).toArray(),this.gl.drawStrip(2)}_drawCircles(t){this.gl.stack=this.stackCircles;let e=[],s=[];for(const i in t){e.push(0,t[i]);const r=this.chartDrawer.graphDrawers[i].color.toArray();s.push(r[0],r[1],r[2],r[3])}this.gl.attributes.position=e,this.gl.attributes.pointColor=s,this.gl.uniforms.circle=!0,this.gl.uniforms.windowSize=[this.gl.viewport.width,this.gl.viewport.height],this.gl.uniforms.clearColor=this.gl.clearColor,this.gl.drawPoints(t.length),this.gl.uniforms.circle=!1}draw(t,e){if(e.value&&(!this.chartDrawer.chart.stacked||this.chartDrawer.chart.percentage)){this.animations.projection.set([1,0,0,0,1,0,e.value.x*t[0]+t[6],0,1],r.a/4),this.animations.points.set(e.points,r.a/4),t=this.animations.projection.get();const s=this.animations.points.get();this._drawSelection(t),!this.chartDrawer.chart.percentage&&s.length>0&&this._drawCircles(s)}}}},function(t,e,s){"use strict";s.d(e,"a",(function(){return PathLine}));var i=s(20);class PathLine extends i.a{constructor(t){super(t),this.indices=new Uint16Array(6*t.length),this.previouses=[],this.nexts=[],this.directions=[],t.forEach(t=>{this.vertices.push(t.x,t.y,t.x,t.y)}),t.forEach((t,e,s)=>{e>0&&e--,this.previouses.push(s[e].x,s[e].y,s[e].x,s[e].y)}),t.forEach((t,e,s)=>{e<s.length-1&&e++,this.nexts.push(s[e].x,s[e].y,s[e].x,s[e].y)}),t.forEach(t=>{this.directions.push(-1,1)});let e=0,s=0;t.forEach(t=>{let i=s;this.indices[e++]=i+0,this.indices[e++]=i+1,this.indices[e++]=i+2,this.indices[e++]=i+2,this.indices[e++]=i+1,this.indices[e++]=i+3,s+=2})}}},function(t,e,s){"use strict";s.d(e,"a",(function(){return BarGraphDrawer}));var i=s(19),r=s(43),n=s(2);class BarGraphDrawer extends i.a{constructor(t,e,s,i){super(t,e,s,i)}_initializeAttributes(){this.path=new r.a(this.graph.vertices,this.chartDrawer.chart.graphs),this.stack=this.gl.newStack(),this.gl.indices=this.path.indices,this.gl.attributes.position=this.path.vertices,this.gl.attributes.pointer=this.path.pointers,this.gl.attributes.base=this.path.bases;for(const t in this.path.uppers)this.gl.attributes["upper"+t]=this.path.uppers[t]}_initializeProgram(){const t=new n.a(this.shaders[0],n.a.types.VERTEX),e=new n.a(this.shaders[1],n.a.types.FRAGMENT);return t.variables={count:this.chartDrawer.chart.graphs.length,current:this.chartDrawer.graphDrawers.length},this.gl.newProgram(new n.b(t,e))}draw(t){super.draw(t),this.gl.uniforms.selected=this.chartDrawer.selection.index,this.gl.uniforms.visible=this.chartDrawer.graphDrawers.map(t=>t.color.a/255);const e=6*(this.cuts.end-1),s=6*this.cuts.start;this.gl.drawElements(e,s)}}},function(t,e,s){"use strict";s.d(e,"a",(function(){return PathBar}));var i=s(20);class PathBar extends i.a{constructor(t,e){super(t),this.pointers=[],this.uppers=[],this.bases=[];const s=t[1].x-t[0].x;t.forEach(t=>{this.vertices.push(t.x,-1,t.x,t.y,t.x+s,t.y,t.x+s,-1)});let i=0,r=0;t.forEach(t=>{let e=r;this.indices[i++]=e+0,this.indices[i++]=e+1,this.indices[i++]=e+2,this.indices[i++]=e+2,this.indices[i++]=e+0,this.indices[i++]=e+3,r+=4}),t.forEach((t,e)=>{this.pointers.push(e,e,e,e)}),t.forEach((t,e)=>{this.bases.push(1,0,0,1)});const n=e.indexOf(e.find(e=>e.vertices==t));t.forEach((t,s)=>{for(const t in e)this.uppers[t]||(this.uppers[t]=[]),t<n?(this.uppers[t].push(e[t].vertices[s].y+1),this.uppers[t].push(e[t].vertices[s].y+1),this.uppers[t].push(e[t].vertices[s].y+1),this.uppers[t].push(e[t].vertices[s].y+1)):(this.uppers[t].push(0),this.uppers[t].push(0),this.uppers[t].push(0),this.uppers[t].push(0))})}}},function(t,e,s){"use strict";s.d(e,"a",(function(){return AreaGraphDrawer}));var i=s(19),r=s(45),n=s(2);class AreaGraphDrawer extends i.a{constructor(t,e,s,i){super(t,e,s,i)}_initializeAttributes(){this.path=new r.a(this.graph.vertices,this.chartDrawer.chart.graphs),this.stack=this.gl.newStack(),this.gl.attributes.position=this.path.vertices,this.gl.attributes.base=this.path.bases;for(const t in this.path.uppers)this.gl.attributes["upper"+t]=this.path.uppers[t];for(const t in this.path.uppers)this.gl.attributes["sum"+t]=this.path.sums[t]}_initializeProgram(){const t=new n.a(this.shaders[0],n.a.types.VERTEX),e=new n.a(this.shaders[1],n.a.types.FRAGMENT);return t.variables={count:this.chartDrawer.chart.graphs.length,current:this.chartDrawer.graphDrawers.length},this.gl.newProgram(new n.b(t,e))}draw(t){super.draw(t),this.gl.uniforms.visible=this.chartDrawer.graphDrawers.map(t=>t.color.a/255);const e=2*this.cuts.end,s=2*this.cuts.start;this.gl.drawShape(e,s)}}},function(t,e,s){"use strict";s.d(e,"a",(function(){return PathArea}));var i=s(20);class PathArea extends i.a{constructor(t,e){super(t),this.sums=[],this.uppers=[],this.bases=[],t.forEach((t,e)=>{this.vertices.push(t.x,t.y,t.x,-1)}),t.forEach((t,e)=>{this.bases.push(0,1)});const s=e.indexOf(e.find(e=>e.vertices==t));t.forEach((t,i)=>{for(const t in e)this.uppers[t]||(this.uppers[t]=[]),this.sums[t]||(this.sums[t]=[]),t<s?(this.uppers[t].push(e[t].vertices[i].y+1),this.uppers[t].push(e[t].vertices[i].y+1),this.sums[t].push(0),this.sums[t].push(0)):(this.uppers[t].push(0),this.uppers[t].push(0),this.sums[t].push(e[t].vertices[i].y+1),this.sums[t].push(e[t].vertices[i].y+1))})}}},function(t,e,s){"use strict";s.d(e,"a",(function(){return ChartController}));class ChartController{constructor(t,e,s,i){this.selector=t,this.field=i,this.borderWidth=2*parseInt(window.getComputedStyle(t)["border-left-width"]),this.minWidth=parseInt(window.getComputedStyle(t)["min-width"])+this.borderWidth,this.positionOld=0,this.positionNew=0,this.onupdate=(t,e)=>{},this.onselect=()=>{},e.onmousedown=t=>{this.startDrag(t,1)},e.ontouchstart=t=>{this.startDrag(t,1)},s.onmousedown=t=>{this.startDrag(t,2)},s.ontouchstart=t=>{this.startDrag(t,2)},t.onmousedown=t=>{this.startDrag(t,0)},t.ontouchstart=t=>{this.startDrag(t,0)},i.onmousemove=t=>{this.select(t,!0)},i.onmouseleave=t=>{this.select(t,!1)},i.ontouchstart=t=>{this.select(t,!0)},i.ontouchmove=t=>{this.select(t,!0)},i.ontouchend=t=>{this.select(t,!1)},console.debug("ChartController created",this)}select(t,e){!t.offsetX&&t.touches&&t.touches.length>0&&(t.offsetX=t.targetTouches[0].pageX-t.target.getBoundingClientRect().left),t.preventDefault();let s=t.offsetX/this.field.clientWidth;this.onselect(t.offsetX,s,e)}startDrag(t,e){!(t=t||window.event).clientX&&t.touches&&(t.clientX=t.touches[0].clientX),t.stopPropagation(),t.preventDefault(),this.positionOld=t.clientX,document.onmouseup=t=>{this.stopDrag()},document.ontouchend=t=>{this.stopDrag()},document.onmousemove=t=>{this.drag(t,e)},document.ontouchmove=t=>{this.drag(t,e)}}drag(t,e){if(!(t=t||window.event).clientX&&t.touches&&(t.clientX=t.touches[0].clientX),t.preventDefault(),this.positionNew=this.positionOld-t.clientX,this.positionOld=t.clientX,0===e){let t=this.selector.offsetLeft-this.positionNew;t<0&&(t=0),this.selector.style.left=t+"px"}else if(1===e){let t=this.selector.clientWidth+this.positionNew,e=this.selector.offsetLeft-this.positionNew;t<this.minWidth&&(e+=t-this.minWidth,t=this.minWidth),e<0&&(t-=-e,e=0),this.selector.style.left=e+"px",this.selector.style.width=t+"px"}else if(2===e){let t=this.selector.clientWidth-this.positionNew;t+this.selector.offsetLeft+this.borderWidth>this.selector.parentNode.clientWidth&&(t=this.selector.clientWidth),this.selector.style.width=t+"px"}this.normalize(),this.update()}stopDrag(){document.onmouseup=null,document.ontouchend=null,document.onmousemove=null,document.ontouchmove=null}normalize(){parseInt(this.selector.style.left)<0&&(this.selector.style.left="0px"),parseInt(this.selector.style.left)+this.selector.clientWidth+this.borderWidth>this.selector.parentNode.clientWidth&&(this.selector.style.left=this.selector.parentNode.clientWidth-this.selector.clientWidth-this.borderWidth+"px")}update(){let t=this.selector.parentNode.clientWidth,e=this.selector.offsetLeft/t,s=(this.selector.offsetLeft+this.selector.clientWidth+this.borderWidth)/t;this.onupdate(e,s)}get dragging(){return!(null==document.onmouseup&&null==document.ontouchend&&null==document.onmousemove&&null==document.ontouchmove)}}},function(t,e,s){"use strict";e.a="attribute vec2 position;\r\nattribute float pointer;\r\nattribute float base;\r\n/*/repeat count/*/\r\nattribute float upper/*/i/*/;\r\n\r\nuniform float visible[/*/count/*/];\r\nuniform mat3 projection;\r\n\r\nuniform int selected;\r\nvarying float opacity;\r\n\r\nvoid main() {\r\n\tif (selected == -1 || selected == int(pointer)) {\r\n\t\topacity = 1.;\r\n\t} else {\r\n\t\topacity = .5;\r\n\t}\r\n\r\n\tvec3 tranformed = vec3(position, 1.);\r\n\tfloat upwards = 0.;\r\n\t/*/repeat count/*/\r\n\tupwards += upper/*/i/*/ * visible[/*/i/*/];\r\n\r\n\tif (base == 0.) {\r\n\t\ttranformed.y = (tranformed.y + 1.) * visible[/*/current/*/] - 1.;\r\n\t}\r\n\r\n\ttranformed.y += upwards;\r\n\r\n\tgl_Position = vec4(projection * tranformed, 1.0);\r\n\tgl_PointSize = 1.0;\r\n}"},function(t,e,s){"use strict";e.a="precision mediump float;\r\n\r\nuniform vec4 color;\r\nvarying float opacity;\r\n\r\nvoid main() {\r\n    gl_FragColor = vec4(color.rgb, color.a * opacity);\r\n}"},function(t,e,s){"use strict";e.a="attribute vec2 position;\r\nattribute vec4 pointColor;\r\n\r\nuniform mat3 projection;\r\nuniform vec4 color;\r\nuniform vec2 windowSize;\r\nuniform bool circle;\r\n\r\nvarying vec4 resultColor;\r\nvarying vec2 pointPos;\r\nvarying float radius;\r\n\r\nvoid main() {\r\n\tgl_Position = vec4(projection * vec3(position, 1.), 1.);\r\n\tgl_PointSize = windowSize.y / 24.;\r\n\r\n\tresultColor = circle ? pointColor : color;\r\n\r\n\tvec2 halfsize = vec2(windowSize.x, windowSize.y) * 0.5;\r\n  \tpointPos = halfsize + ((gl_Position.xy / gl_Position.w) * halfsize);\r\n\tradius = gl_PointSize * 0.5;\r\n}"},function(t,e,s){"use strict";e.a="precision mediump float;\r\n\r\nuniform vec4 clearColor;\r\nuniform bool circle;\r\n\r\nvarying vec4 resultColor;\r\nvarying vec2 pointPos;\r\nvarying float radius;\r\n\r\nvoid main() {\r\n    vec4 color = resultColor;\r\n    \r\n    color = mix(clearColor, color, smoothstep(0.6, 0.85, distance(gl_FragCoord.xy, pointPos) / radius * 1.5));\r\n    color.a *= smoothstep(1., 0.85, distance(gl_FragCoord.xy, pointPos) / radius);\r\n    color.a = min(color.a, resultColor.a);\r\n\r\n    gl_FragColor = circle ? color : resultColor;\r\n}"},,,,,,,,,,,,,,,,,,,,,function(t,e,s){var i=s(72);"string"==typeof i&&(i=[[t.i,i,""]]);var r={insert:"head",singleton:!1};s(13)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,s){(t.exports=s(12)(!1)).push([t.i,'.chart-graph-button{display:inline-flex;align-items:center;position:relative;margin:calc(var(--main-margin) / 1.3) calc(var(--main-margin) / 1.3) 0 0;padding:0 calc(var(--button-size) / 3) 0 calc(var(--button-size) / 6);width:max-content;height:var(--button-size);text-align:center;line-height:var(--button-size);font-size:calc(var(--button-size) / 2.2);border-radius:var(--button-size);border:calc(var(--button-size) / 16) solid;background-color:transparent;color:RGB(var(--color-text));overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;transition:0.2s;transition-property:background-color;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.chart-graph-button-cover{position:absolute;left:0;top:0;height:100%;width:100%;opacity:0;border-radius:var(--button-size);background-color:RGB(var(--color-background));transition:0.2s;transition-property:opacity;z-index:0}.chart-graph-button-name{position:relative;z-index:1;left:calc(var(--button-size) * -0.35 + var(--button-size) / 12);transition:0.2s;transition-property:left}.chart-graph-button-icon{transition:0.2s;transition-property:opacity;z-index:1}.chart-graph-button>input:checked ~ .chart-graph-button-name{left:0;color:white !important}.chart-graph-button>input:not(:checked) ~ .chart-graph-button-icon{opacity:0}.chart-graph-button>input:not(:checked) ~ .chart-graph-button-cover{opacity:1}.chart-graph-button>.chart-graph-button-icon{display:inline-flex;justify-content:center;align-items:center;position:relative;height:calc(var(--button-size) * 0.7);width:calc(var(--button-size) * 0.7);border-radius:100%}.chart-graph-button>.chart-graph-button-icon::before{content:"";position:absolute;transform:rotate(-45deg);margin-top:calc(var(--button-size) / -16);width:calc(var(--button-size) / 3);height:calc(var(--button-size) / 6);border-bottom:solid calc(var(--button-size) / 16) currentColor;border-left:solid calc(var(--button-size) / 16) currentColor;border-radius:calc(var(--button-size) / 32);font-size:calc(var(--button-size) / 2);color:white;transition:0.3s;transition-property:transform}.chart-graph-button:active>.chart-graph-button-cover{opacity:0.5 !important}\n',""])}]);